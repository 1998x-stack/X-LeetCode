[166. 分数到小数](https://leetcode.cn/problems/fraction-to-recurring-decimal)

[ChatGPT](https://chat.openai.com/share/8a5ebae5-44d2-42d0-afd4-eed0ad76a958)

---

## 1. 问题的内容
**1.1 题目描述**：
给定两个整数，分别表示分数的分子和分母，我们需要实现一个函数来返回这个分数的小数表示。如果这个小数是一个无限循环小数，那么需要将循环的部分用括号括起来。

**1.2 示例**：
- 输入：分子 = 1, 分母 = 2，输出："0.5"
- 输入：分子 = 2, 分母 = 1，输出："2"
- 输入：分子 = 2, 分母 = 3，输出："0.(6)"

**1.3 提示**:
- 分数可能是正数也可能是负数，需要处理符号问题。
- 如果分子可以整除分母，则直接返回结果。
- 如果结果是无限循环小数，需要找出循环部分。
- 使用哈希表来存储已经出现过的余数和对应的小数位置，以便于判断循环的起始位置。

## 2. 边界情况和约束
- 分子或分母为0的情况。
- 分子能够整除分母的情况。
- 分子和分母的符号可能不同，需要处理结果的正负号。
- 分母为1的情况，直接返回分子的值。
- 需要考虑整数溢出的问题，尤其是当分母为INT_MIN时。


## 3. 算法和策略
1. **处理符号**：首先判断分子和分母的符号，如果两者符号不同，则结果为负数，否则为正数。
2. **特殊情况处理**：
   - 如果分子为0，返回"0"。
   - 如果分子能够整除分母，直接返回相除的结果。
3. **转换为正数处理**：为了避免处理负数带来的麻烦，将分子和分母都转换为正数进行处理。
4. **整数部分处理**：计算分子除以分母的整数部分，将结果转换为字符串。
5. **余数处理**：
   - 使用哈希表记录每一个余数出现的位置。
   - 余数乘以10，然后除以分母得到小数部分的一个数字，重复此过程直到余数为0或者发现循环。
   - 如果余数为0，说明已经除尽，直接返回结果。
   - 如果找到循环，根据哈希表中记录的位置，将循环部分用括号括起来。
6. **组合结果**：将处理好的正负号、整数部分和小数部分组合成最终的字符串结果。

---
