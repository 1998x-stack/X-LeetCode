[286. 墙与门](https://leetcode.cn/problems/walls-and-gates)

[ChatGPT](https://chat.openai.com/share/c132440d-9c2e-48ed-8b19-d0cd49a57d98)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 286题 "墙与门" 要求我们填充一个二维整数数组，其中：
- `-1` 表示一个墙或者障碍物。
- `0` 表示一个门。
- `INF` 表示一个空的房间。这里，我们将 `INF` 定义为 `2147483647`。

**1.2 示例**：
假设我们有一个二维数组如下：
```
INF  -1  0  INF
INF INF INF  -1
INF  -1 INF  -1
  0  -1 INF INF
```
其中 `INF` 表示无穷大，代表空房间；`-1` 表示墙；`0` 表示门。

经过处理后，应该得到如下数组：
```
  3  -1   0   1
  2   2   1  -1
  1  -1   2  -1
  0  -1   3   4
```

**1.3 提示**:
- 你可以假设二维数组的边界都被墙包围。
- 门的数量至少为1，空房间的数量也至少为1。

## 2. 边界情况和约束
**边界情况**：
1. 如果二维数组中只有墙（`-1`）和门（`0`），没有空房间（`INF`），则不需要任何操作。
2. 如果一个空房间被墙完全包围，即没有通向门的路径，则该空房间的值保持不变。

**约束**：
1. 二维数组的大小至少为1x1。
2. 二维数组中的值只能是 `INF`、`-1`、或 `0`。
3. 我们只能通过上、下、左、右移动，不能斜着移动。

## 3. 算法和策略
1. **广度优先搜索（BFS）**：
   - 从每个门（`0`）出发，通过广度优先搜索寻找每个空房间（`INF`）。
   - 使用队列支持 BFS 的实现。
   - 对于队列中的每个位置，尝试向上、下、左、右移动，并更新空房间到门的距离。
   - 如果移动后的位置是空房间（`INF`）且新的距离小于当前距离，则更新距离，并将新位置加入队列。

2. **初始化**：
   - 创建一个队列用于存储门的位置。
   - 遍历二维数组，将所有门的位置加入队列。

3. **更新距离**：
   - 当从一个门开始搜索时，每向前一步，距离加1。
   - 如果新计算的距离小于当前房间的距离，则更新该房间的距离，并将其加入队列中继续搜索。

4. **处理边界**：
   - 在搜索过程中，如果遇到墙（`-1`）或者数组的边界，则停止在该方向上的搜索。
   - 如果新位置已经被访问过（即距离小于 `INF`），则忽略该位置。

5. **优化**：
   - 可以提前结束搜索，如果在某一轮中没有更新任何房间的距离，则表示所有可达的空房间都已被更新。

---