[7. 整数反转](https://leetcode.cn/problems/reverse-integer)

[ChatGPT](https://chat.openai.com/share/be036b85-be92-4a9f-90ab-3eb6506b24d1)

---

## 1. 问题的内容
**1.1 题目描述**
**LeetCode 7. 整数反转**问题的目标是给定一个32位有符号整数，需要将这个整数中的数字进行反转。如果反转后的整数超过32位有符号整数的表示范围，就返回0。这个问题考验了对整数操作和边界检查的能力。
：
- 输入: 一个32位有符号整数 `x`。
- 输出: 将 `x` 中的数字反转后的结果。如果反转后的整数溢出，则返回0

**1.2 示例**：
1. 输入: `x = 123`，输出: `321`
2. 输入: `x = -123`，输出: `-321`
3. 输入: `x = 120`，输出: `21`
4. 输入: `x = 0`，输出: `0`

**1.3 提示**:- 假设我们的环境只能存储32位大小的有符号整数，其数值范围是 \([-2^{31}, 2^{31} - 1]\)。如果反转后整数溢出那么就返回0。


## 2. 边界情况和约束

#### **边界情况**:
1. **最大值和最小值处理**: 输入整数接近32位整数的最大值或最小值时，反转可能导致溢出。
2. **尾数为0的处理**: 输入整数的尾数为0时，反转后应去除尾部的0。
3. **正负号处理**: 输入整数为负数时，反转后也应保持负号。

#### **约束**:
- 输入整数的范围是 \([-2^{31}, 2^{31} - 1]\)。
- 需要考虑反转后的整数是否会超出32位有符号整数的表示范围。


## 3. 算法和策略
#### 算法步骤:
1. **初始化**：创建一个变量 `rev` 用于存储反转后的整数，初始值为0。
2. **处理正负号**：记录输入整数的符号（正或负），并在处理过程中使用绝对值。
3. **反转过程**：
   - 循环直到整数变为0。
   - 每次循环中，将整数 `x` 对10取余，得到当前的最低位数字。
   - 将 `rev` 乘以10后加上这个最低位数字，更新 `rev`。
   - 将 `x` 整除10，去除已经处理过的最低位。
4. **溢出检查**：
   - 在每次更新 `rev` 之前检查是否即将溢出。
   - 如果 `rev` 大于 `INT_MAX/10` 或小于 `INT_MIN/10`，则表示反转后将溢出，直接返回0。
5. **恢复符号**：根据原始整数的符号，恢复 `rev` 的符号。
6. **返回结果**：返回反转后的整数 `rev`。

#### 溢出检查细节:
- 当 `rev` 等于 `INT_MAX/10` 时，还需要进一步检查即将添加的数字是否会导致溢出（即大于 `INT_MAX % 10`）。
- 对于负数同理，当 `rev` 等于 `INT_MIN/10` 时，还需要检查即将添加的数字是否小于 `INT_MIN % 10`。

### 为什么是 `pop > 7` 和 `pop < -8`

- **正数情况**：`INT_MAX` 是 `2147483647`，最低位是7。当 `rev` 等于 `INT_MAX/10` 即 `214748364` 时，再乘以10就达到了 `2147483640`。此时，如果要添加的数字 `pop` 大于7，最终结果就会超过 `2147483647`，导致溢出。

- **负数情况**：`INT_MIN` 是 `-2147483648`，最低位是8（考虑到负数的表示）。当 `rev` 等于 `INT_MIN/10` 即 `-214748364` 时，再乘以10就达到了 `-2147483640`。此时，如果要添加的数字 `pop` 小于-8，最终结果会小于 `-2147483648`，导致溢出。


---
