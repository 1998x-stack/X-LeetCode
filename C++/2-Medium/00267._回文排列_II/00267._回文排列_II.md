[267. 回文排列 II](https://leetcode.cn/problems/palindrome-permutation-ii)

[ChatGPT](https://chat.openai.com/share/1ec5a573-3cbd-4b27-9e1a-247bef7270f3)

---

## 1. 问题的内容
**1.1 题目描述**：
问题来源于 LeetCode，编号为267，题目是“回文排列 II”。这个问题要求我们找出一个字符串的所有字符排列组合，这些排列可以形成回文字符串。回文字符串是指一个字符串正着读和反着读都一样。

**1.2 示例**：
假设我们有一个字符串 `"aabb"`，那么它可能的回文排列组合有：
- `"abba"`
- `"baab"`
如果字符串是 `"abc"`，则没有可能形成回文的排列组合。

**1.3 提示**:
- 考虑使用回溯法来解决问题。
- 需要先判断给定的字符串是否可以组成回文排列。这通常意味着，除了最多一个字符出现奇数次外，其他所有字符都应出现偶数次。
- 回文字符串的构造可以通过选择字符的一半，然后在排列这些字符，最后根据这些字符构造完整的回文串。

## 2. 边界情况和约束
### 边界情况
- **空字符串**：应返回一个空列表，因为没有字符可用于形成回文。
- **单字符字符串**：应返回包含该字符的列表，因为单个字符自身就是一个回文。
- **所有字符都相同的字符串**：只有一种排列，即字符串本身。

### 约束
- 字符串长度的限制。
- 字符串中可能包含的字符集，例如，是否只包含小写英文字母。


## 3. 算法和策略
### 算法设计
1. **统计字符频率**：遍历字符串，使用哈希表统计每个字符出现的次数。
2. **判断回文排列可能性**：遍历哈希表，确保最多只有一个字符的出现次数为奇数。
3. **生成半边回文字符串**：从哈希表中提取字符，每个字符取半数（对于奇数次数的字符，减去1再除以2），生成半边字符串。
4. **回溯生成半边字符串的排列**：使用回溯算法生成半边字符串的所有排列。
5. **构造完整回文字符串**：对于每个半边字符串的排列，将其反转并附加到末尾（如果有中心字符，则插入中心），生成完整的回文字符串。

### 策略
- 使用**深度优先搜索**（DFS）配合**回溯**来生成所有可能的半边字符串排列。
- 在构造过程中使用**剪枝**来避免重复计算，例如，通过记录字符使用情况来避免重复使用相同的字符。

---
