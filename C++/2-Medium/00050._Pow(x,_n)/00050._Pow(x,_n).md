[50. Pow(x, n)](https://leetcode.cn/problems/powx-n)

[ChatGPT](https://chat.openai.com/share/e2d9e7fc-13fa-4ebd-8371-d4df8923e731)

---

## 1. 问题的内容
**1.1 题目描述**：
实现 `pow(x, n)` ，即计算 x 的 n 次幂函数（即，\(x^n\)）。

**1.2 示例**：
- 示例1: 输入: `x = 2.00000, n = 10`，输出: `1024.00000`
- 示例2: 输入: `x = 2.10000, n = 3`，输出: `9.26100`
- 示例3: 输入: `x = 2.00000, n = -2`，输出: `0.25000`，解释: \(2^{-2} = \frac{1}{2^2} = \frac{1}{4} = 0.25\)

**1.3 提示**:
1. `-100.0 < x < 100.0`
2. `-2^{31} <= n <= 2^{31}-1`
3. 结果应在 10 的 -5 次方精度内正确。

## 2. 边界情况和约束
1. **边界情况**:
   - **x为0时**: \(0^n\) 对于任何正数n都是0，但需要特别注意 \(0^0\) 和 \(0^{-n}\) 的情况，通常 \(0^0\) 视为1，而 \(0^{-n}\) 不定义（在数学上可能引起分母为0的问题）。
   - **n为0时**: 任何数的0次幂都定义为1，即 \(x^0 = 1\)。
   - **n为负数时**: \(x^{-n} = \frac{1}{x^n}\)，这意味着我们需要计算x的n次幂然后取其倒数。
   - **x为负数时**: 如果n是偶数，结果为正；如果n是奇数，结果为负。

2. **约束**:
   - **x的取值范围**: 给定的x值在-100.0到100.0之间，这包含了正数、负数和0。
   - **n的取值范围**: 给定的n值在\(-2^{31}\)到\(2^{31}-1\)之间，这包括正整数、负整数和0。
   - **精度要求**: 结果需要在10的-5次方精度内正确，这要求我们的实现方法需要足够精确以满足此要求。

## 3. 算法和策略
为了实现 `pow(x, n)`，我们采用分治算法。分治算法通过将问题分解为较小的相同问题来解决，这里是通过将大的指数问题分解为较小的指数问题。这种方法可以显著减少计算量。

**算法步骤**:

1. **基本情况处理**:
   - 如果 `n == 0`，直接返回1。
   - 如果 `n < 0`，将问题转化为计算 `pow(1/x, -n)`。

2. **分治策略**:
   - 将n分解为两部分，例如，计算 `pow(x, n/2)` 然后使用结果来构造最终结果。
   - 如果 `n` 是偶数，那么 `pow(x, n) = pow(x, n/2) * pow(x, n/2)`。
   - 如果 `n` 是奇数，那么 `pow(x, n) = x * pow(x, n/2) * pow(x, n/2)`。

3. **递归实现**:
   - 使用递归函数来实现分治策略，每次递归都将指数减半，直到达到基本情况。

4. **优化**:
   - 为了避免重复计算，我们只需计算一次 `pow(x, n/2)`，然后根据n的奇偶性来使用这个结果。

5. **处理精度**:
   - 考虑到结果精度的要求，在比较结果时应考虑到浮点数的精度问题。

---