[249. 移位字符串分组](https://leetcode.cn/problems/group-shifted-strings)

[ChatGPT](https://chat.openai.com/share/0b988915-55c2-44ef-86aa-103dc1421938)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 249. 移位字符串分组问题要求我们将字符串数组分组，其中每个字符串都可以通过将其每个字母统一向右移动相同的位置数来从另一个字符串获得。具体地说，两个字符串可以归为同一组，如果它们的每个字母相对于字母表的位置的差异保持一致。

**1.2 示例**：
例如，`"abc"` 可以通过将每个字母向右移动 1 位变为 `"bcd"`，所以 `"abc"` 和 `"bcd"` 属于同一组。另外，字母是循环移动的，这意味着字母 `'z'` 向右移动 1 位会变成 `'a'`。

输入：`["abc","bcd","acef","xyz","az","ba","a","z"]`
输出：`[["abc","bcd","xyz"],["az","ba"],["acef"],["a","z"]]`
解释：这个例子中，我们可以看到 `"abc"`，`"bcd"`，和 `"xyz"` 字母移动的位置数相同，因此归为一组。`"az"` 和 `"ba"` 由于 `'a'` 到 `'z'` 和 `'b'` 到 `'a'` 都是向右移动了 1 位，所以它们也归为一组。`"acef"` 字母间隔相同，归为一组。`"a"` 和 `"z"` 各自独立成组。

**1.3 提示**:
- 注意字母是循环移动的，即 `'z'` 向右移动 1 位会变成 `'a'`。
- 输入字符串仅包含小写字母。
- 字符串长度和输入数组的大小都不会特别大，适合使用暴力法或哈希表等方法处理。

## 2. 边界情况和约束
#### 边界情况

1. **输入数组为空**：返回空的结果集。
2. **数组中只有一个字符串**：这个字符串自成一组。
3. **所有字符串长度不一致**：长度不同的字符串不能通过移位得到彼此，因此它们不会被归为同一组。
4. **字符串长度为1**：所有单字符字符串都可以归为同一组，因为它们可以通过循环移位得到彼此。

#### 约束

1. **字符串长度**：因为字符串可以通过移位得到彼此，所以同一组的字符串长度必须相等。
2. **字符循环移位**：需要考虑字母 `'z'` 向右移动转换成 `'a'` 的情况。


## 3. 算法和策略
#### 算法步骤

1. **初始化**：创建一个哈希表 `unordered_map<string, vector<string>> groups` 用于存储归类后的字符串组。
2. **遍历输入字符串数组**：对于每个字符串，计算它的“特征”。
   - 对于字符串中的每个字符，计算它与第一个字符的相对距离。例如，`"abc"` 的特征是 `"0 1 2"`，因为 `'b' - 'a' = 1`, `'c' - 'a' = 2`。
   - 如果字符之间的距离为负（例如，`'a' - 'z'`），则加上 26（字母表中的字母总数），以确保距离是正的。
3. **存储到哈希表**：将字符串添加到其特征对应的哈希表条目中。
4. **提取结果**：遍历哈希表，将每个键值对中的值（即字符串组）添加到结果集中。

#### 策略细节

- **特征计算**：特征是基于字符串内部字符相对于第一个字符的偏移量，确保了循环移位的字符串具有相同的特征。
- **处理循环移位**：通过在计算偏移量时加上 26 来处理循环移位，保证偏移量始终为正。

---