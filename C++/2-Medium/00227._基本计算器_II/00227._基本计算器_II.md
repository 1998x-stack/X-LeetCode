[227. 基本计算器 II](https://leetcode.cn/problems/basic-calculator-ii)

[ChatGPT](https://chat.openai.com/share/78cce64d-0232-4927-bbea-be37c381466a)

---

## 1. 问题的内容
**1.1 题目描述**：
- **题目链接**：[227. 基本计算器 II](https://leetcode.cn/problems/basic-calculator-ii)
- **问题描述**：实现一个基本的计算器来计算一个简单的字符串表达式的值。字符串表达式可以包含非负整数，加号（+），减号（-），乘号（*），除号（/），和空格（' '）。你可以假设给定的表达式总是有效的。

**1.2 示例**：
- **示例1**：
  - 输入: "3+2*2"
  - 输出: 7
- **示例2**：
  - 输入: " 3/2 "
  - 输出: 1
- **示例3**：
  - 输入: " 3+5 / 2 "
  - 输出: 5

**1.3 提示**:
- 不使用内置库函数。
- 注意处理空格和运算符的优先级。

## 2. 边界情况和约束
### 边界情况
1. **输入字符串为空**：返回0。
2. **输入字符串只包含空格**：返回0。
3. **表达式只包含一个数字**：直接返回该数字。
4. **处理操作数时遇到多位数**：需要能够处理多位数的情况。
5. **除法运算时被除数为0**：题目约束中未明确说明如何处理，但实际编码时需考虑避免除0错误。

### 约束
1. 表达式中的整数非负。
2. 给定的表达式总是有效的，不存在语法错误。
3. 表达式不包含括号。
4. 乘除法优先于加减法执行。

## 3. 算法和策略
### 算法设计
1. **初始化两个栈**：一个用于存储数字，一个用于存储操作符。
2. **遍历输入字符串**：
   - 忽略空格。
   - 如果遇到数字，处理多位数的情况，直至遇到非数字字符。
   - 如果遇到操作符，根据操作符的优先级和前一个操作符的优先级决定是否先计算前一个操作的结果。
3. **处理运算符优先级**：
   - 乘除法直接计算。
   - 加减法入栈，等待之后的运算。
4. **计算结果**：遍历完字符串后，处理栈中剩余的操作，计算最终结果。

### 策略
- **使用栈**：栈可以帮助我们处理运算的优先级和暂时存储数值。
- **实时计算乘除**：遇到乘除法时，可以直接与栈顶元素计算，因为乘除法优先级高。
- **延迟计算加减**：遇到加减法时，将数值入栈，延后处理。

---