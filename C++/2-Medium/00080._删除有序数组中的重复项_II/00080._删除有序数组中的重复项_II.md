[80. 删除有序数组中的重复项 II](https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii)

[ChatGPT](https://chat.openai.com/share/5d5c4bfc-9e02-480f-a82d-b8c7c4b52327)

---

## 1. 问题的内容
**1.1 题目描述**：
问题来源于 LeetCode，编号为80，题目为“删除有序数组中的重复项 II”。题目要求我们在一个排序的数组中，删除重复项，使得每个元素最多出现两次，返回删除后数组的新长度。不允许使用额外的数组空间，必须在原地修改输入数组并在使用 O(1) 额外空间的条件下完成。

**1.2 示例**：
- **示例1**：
  输入: nums = [1,1,1,2,2,3]
  输出: 5, nums = [1,1,2,2,3]
  解释: 函数应返回新的长度 5，并且原数组的前五个元素被修改为 1, 1, 2, 2, 3 。不需要考虑数组中超出新长度后面的元素。

- **示例2**：
  输入: nums = [0,0,1,1,1,1,2,3,3]
  输出: 7, nums = [0,0,1,1,2,3,3]
  解释: 函数应返回新的长度 7，并且原数组的前七个元素被修改为 0, 0, 1, 1, 2, 3, 3 。不需要考虑数组中超出新长度后面的元素。

**1.3 提示**:
- 1 <= nums.length <= 3 * 10^4
- -10^4 <= nums[i] <= 10^4
- nums 已按升序排列

## 2. 边界情况和约束
#### 边界情况

- 数组长度为1，即数组中只有一个元素，不需要任何操作，直接返回长度1。
- 数组中所有元素都相同，需要删除除前两个之外的所有重复元素。
- 数组中没有重复元素，每个元素都是唯一的，直接返回原数组的长度。

#### 约束

- 必须在原数组上操作，不能使用额外的空间来创建另一个数组。
- 时间复杂度应尽可能低，以满足大数据量处理的需求。
- 空间复杂度为O(1)，即只能使用常数级别的额外空间。


## 3. 算法和策略
#### 算法设计

1. 初始化两个指针：`i`（慢指针）和`j`（快指针）。`i`从索引1开始，`j`从索引2开始。
2. 遍历数组，使用快指针`j`探索数组：
   - 如果`nums[j]`与`nums[i]`相同并且与`nums[i-1]`也相同，说明`nums[j]`是一个需要被删除的重复元素，此时只需要移动`j`。
   - 如果不满足上述条件，则将`nums[j]`的值复制到`nums[i+1]`的位置，然后同时移动`i`和`j`。
3. 重复步骤2直到`j`遍历完整个数组。
4. 返回`i+1`，即为新数组的长度。

#### 策略说明

- **双指针技巧**：使用快慢指针，慢指针`i`追踪可插入位置，快指针`j`探索数组寻找合适的元素。
- **原地修改**：通过在原数组上移动元素，避免使用额外空间。
- **条件判断**：通过比较`nums[j]`与`nums[i]`以及`nums[i-1]`的值，判断当前元素是否需要被保留。

---