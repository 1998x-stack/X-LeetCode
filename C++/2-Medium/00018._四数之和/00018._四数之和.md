[18. 四数之和](https://leetcode.cn/problems/4sum)

[ChatGPT](https://chat.openai.com/share/f86c6f6a-ce0f-43c6-a415-e09f0d17655e)

---

## 1. 问题的内容
**1.1 题目描述**：
**四数之和问题**是在给定一个包含 n 个整数的数组 `nums` 和一个目标值 `target`，找出 `nums` 中的四个整数，使得它们的和与 `target` 相等。找出所有这样的四元组，你需要确保答案中不包含重复的四元组。

**1.2 示例**：
- 输入: `nums = [1, 0, -1, 0, -2, 2]`, `target = 0`
- 输出: `[[-1, 0, 0, 1], [-2, -1, 1, 2], [-2, 0, 0, 2]]`

**1.3 提示**:
1. 数组长度 `n == nums.length`
2. `1 <= n <= 200`
3. `-10^9 <= nums[i] <= 10^9`
4. `-10^9 <= target <= 10^9`

## 2. 边界情况和约束
1. **数组长度约束**: 给定数组的长度范围是 1 到 200，这意味着我们需要考虑的情况从非常小到相对较大的数组。
2. **数值范围约束**: 数组中的每个元素以及目标值 `target` 的范围是 `-10^9` 到 `10^9`，这要求我们在处理数值时要注意整数溢出的问题。
3. **重复结果约束**: 需要确保输出中不包含重复的四元组，这要求我们在设计算法时需要有去重的策略。
4. **边界情况**: 包括数组长度小于 4 的情况，这种情况下直接返回空结果集；所有元素相同且与目标值匹配的特殊情况；以及没有任何四个数之和等于目标值的情况。


## 3. 算法和策略
1. **排序**: 首先对数组进行排序，这样可以有效地避免重复解并且方便使用双指针技巧。
2. **遍历**: 使用两层循环分别遍历四个数中的前两个数，第三个和第四个数通过双指针的方式找出。
   - 第一层循环遍历第一个数，从 `0` 到 `n-4`。
   - 第二层循环遍历第二个数，从第一个数的下一个数开始到 `n-3`。
   - 对于每一对固定的两个数，使用两个指针分别指向数组的剩余部分的开始位置和结束位置，进行遍历。
3. **双指针查找**: 对于每一对固定的前两个数，将问题转化为两数之和。
   - 如果四数之和小于目标值，移动左指针向右移动。
   - 如果四数之和大于目标值，移动右指针向左移动。
   - 如果四数之和等于目标值，将这四个数添加到结果集中，并移动指针以跳过重复的数。
4. **去重**: 在每一层循环中，跳过重复的数以避免重复解。


---