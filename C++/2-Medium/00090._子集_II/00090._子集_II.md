[90. 子集 II](https://leetcode.cn/problems/subsets-ii)

[ChatGPT](https://chat.openai.com/g/g-GsMNEr76r-c-master)

---

## 1. 问题的内容
**1.1 题目描述**：
- LeetCode的第90题“子集II”要求我们给定一个整数数组`nums`，其中可能包含重复元素，返回该数组所有可能的子集（幂集）。
- 解集不能包含重复的子集。
- 解集不需要按特定顺序排列。

**1.2 示例**：
- 输入: `nums = [1,2,2]`
- 输出: `[[],[1],[1,2],[1,2,2],[2],[2,2]]`

- 输入: `nums = [0]`
- 输出: `[[],[0]]`

**1.3 提示**:
- `1 <= nums.length <= 10`
- `-10 <= nums[i] <= 10`

## 2. 边界情况和约束
1. **边界情况**:
   - 数组`nums`为空时，只有一个空子集。
   - 数组`nums`长度为1时，子集为`[]`和`[nums[0]]`。
   - 数组`nums`包含所有重复元素时，子集数量较少，因为重复子集被排除。

2. **约束**:
   - 数组长度的约束为1到10，意味着算法复杂度可以接受较高的解决方案，如回溯算法。
   - 元素值范围为-10到10，不影响解集生成，但在处理重复元素时需注意。


## 3. 算法和策略
1. **排序**: 先将输入数组排序，以方便处理重复元素。
2. **回溯函数定义**:
   - 创建一个临时列表`temp`来存储当前的子集。
   - 遍历输入数组，对于每个元素，可以选择添加到`temp`或不添加，以构造子集。
3. **处理重复元素**:
   - 在遍历过程中，如果当前元素与前一个元素相同，则只在上一步选择了前一个元素时，才考虑选择当前元素。这样可以避免生成重复的子集。
4. **递归和回溯**:
   - 对于每个元素，递归地调用回溯函数，一次选择该元素，并在递归返回后撤销选择（回溯），以进行下一次决策。
5. **终止条件**:
   - 当遍历完数组时，将`temp`添加到结果集中。

---