[128. 最长连续序列](https://leetcode.cn/problems/longest-consecutive-sequence)

[ChatGPT](https://chat.openai.com/share/0e29c1d9-6f4e-461c-87e6-a29532bed58d)

---

## 1. 问题的内容
**1.1 题目描述**：
给定一个未排序的整数数组 `nums`，返回最长连续元素序列的长度。你的算法的时间复杂度应该为 `O(n)`。
- 输入: `nums = [100, 4, 200, 1, 3, 2]`
- 输出: `4`
- 解释: 最长连续元素序列是 `[1, 2, 3, 4]`。因此其长度为 `4`。

**1.2 示例**：
**示例1**:

- 输入: `[100, 4, 200, 1, 3, 2]`
- 输出: `4`

**示例2**:

- 输入: `[0,3,7,2,5,8,4,6,0,1]`
- 输出: `9`

**1.3 提示**:
- 数组中的元素是无序的。
- 可能包含重复的元素。
- 不需要原数组的顺序。
- 空数组的最长连续序列是 `0`。

## 2. 边界情况和约束
#### 边界情况

- **空数组**: 返回 `0`，因为没有元素可以形成序列。
- **全部重复元素**: 仍然能够返回正确的最长序列长度，因为算法应该忽略重复的元素。
- **只有一个元素**: 返回 `1`，因为单个元素本身就是一个连续序列。

#### 约束

- **时间复杂度**: 算法的时间复杂度必须是 `O(n)`，意味着不能使用排序方法，因为排序至少需要 `O(n log n)` 的时间复杂度。
- **空间复杂度**: 虽然题目没有明确限制空间复杂度，但是考虑到时间复杂度的要求，使用哈希表来存储元素可能是一个好的选择，以实现常数时间的查找。


## 3. 算法和策略

#### 算法步骤

1. **使用哈希表存储所有元素**:
   - 遍历数组 `nums`，将每个元素作为键插入到哈希表中。值不重要，可以使用 `true` 表示元素存在。
   - 这样做可以在 `O(1)` 时间内判断一个元素是否存在于数组中。

2. **查找连续序列**:
   - 再次遍历数组 `nums`，对于每个元素 `num`，执行以下操作:
     - 如果 `num-1` 在哈希表中，则跳过当前元素。因为 `num` 不是连续序列的起点。
     - 如果 `num-1` 不在哈希表中，则 `num` 可能是一个连续序列的起始点。从 `num` 开始向上查找连续的元素，直到找不到为止。
     - 对于每次找到的连续元素，检查它的下一个数 `num+1` 是否存在于哈希表中。
     - 记录并更新最长的连续序列长度。

3. **返回最长序列的长度**。

---