[241. 为运算表达式设计优先级](https://leetcode.cn/problems/different-ways-to-add-parentheses)

[ChatGPT](https://chat.openai.com/share/13bec281-45cc-47c6-83ec-93728f112a56)

---

## 1. 问题的内容
**1.1 题目描述**：
给定一个含有数字和运算符的字符串，为表达式添加括号，改变其运算优先级以求出不同的结果。你需要列出所有可能的组合的结果。数字和运算符由你定义，可以假设只有加、减、乘三种运算符。

**1.2 示例**：
- **输入**: `"2-1-1"`
- **输出**: `[0, 2]`
- **解释**:
  - `((2-1)-1) = 0`
  - `(2-(1-1)) = 2`

- **输入**: `"2*3-4*5"`
- **输出**: `[-34, -14, -10, -10, 10]`
- **解释**:
  - `(2*(3-(4*5))) = -34`
  - `((2*3)-(4*5)) = -14`
  - `((2*(3-4))*5) = -10`
  - `(2*((3-4)*5)) = -10`
  - `(((2*3)-4)*5) = 10`

**1.3 提示**:
- 输入的字符串长度 `n` 在 `[1, 20]` 范围内。
- 输入字符串由数字 `0-9`，`+`，`-`，`*` 组成。

## 2. 边界情况和约束
#### 边界情况

1. **输入字符串长度为 1**：这种情况下，字符串只包含一个数字，不包含任何运算符，因此返回的结果只有这个数字本身。
2. **输入字符串全为数字**：此时，由于没有运算符，只能作为一个整体处理，返回这个数字。
3. **只包含单一运算符**：如 "2-1" 或 "3+5"，只有一种可能的计算方式，返回计算结果。
4. **含有多种运算符**：需要考虑不同的括号组合产生的结果。

#### 约束

1. **只包含基本运算符**：题目假设只有加、减、乘三种运算符。
2. **操作数范围**：只涉及到单个数字运算，即 `0-9`。


## 3. 算法和策略
#### 算法设计

1. **解析输入字符串**：遍历输入的字符串，将数字和运算符分别存储。
2. **递归分治**：
   - 对于字符串中的每一个运算符，将表达式分为左右两部分。
   - 递归地对左右两部分分别进行求解。
   - 对左右两部分的结果进行组合运算。
3. **处理基本情况**：当输入字符串不包含任何运算符时，直接返回该数字。

#### 策略细节

- 使用递归函数，输入为表达式字符串，输出为该表达式不同优先级下的所有可能结果。
- 在递归过程中，每遇到一个运算符，就将表达式分为左右两部分，分别求解，然后根据当前运算符，对左右两部分的结果列表中的每个元素进行组合运算。
- 如果递归过程中的表达式不含运算符，直接将其转换为整数返回。

---