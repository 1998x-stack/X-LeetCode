[34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array)

[ChatGPT](https://chat.openai.com/share/d2d1d331-ed53-4476-8088-b3f0a0ef5c3b)

---

## 1. 问题的内容
**1.1 题目描述**：
在一个按照升序排列的整数数组中，找到给定目标值的起始和结束位置。

你的算法的时间复杂度必须是 O(log n) 级别。

如果数组中不存在目标值，返回 `[-1, -1]`。

**1.2 示例**：
- 输入: 数组 = [5,7,7,8,8,10], 目标值 = 8
- 输出: [3,4]

- 输入: 数组 = [5,7,7,8,8,10], 目标值 = 6
- 输出: [-1,-1]

**1.3 提示**:
- 试着考虑二分查找法来优化搜索时间复杂度。

## 2. 边界情况和约束
1. **数组为空**：如果输入的数组为空，那么无论目标值是什么，都应返回 `[-1, -1]`。
2. **目标值不在数组中**：如果目标值不在数组中，同样返回 `[-1, -1]`。
3. **数组中只有一个元素**：
   - 如果这个元素是目标值，返回 `[0, 0]`。
   - 如果不是目标值，返回 `[-1, -1]`。
4. **目标值出现在数组的边界上**：确保算法能够处理目标值出现在数组的最开始或最末尾的情况。
5. **目标值在数组中有多个连续出现**：算法应该能够返回正确的起始和结束位置。
6. **目标值在数组中只出现一次**：在这种情况下，起始和结束位置是相同的。


## 3. 算法和策略
**算法设计**:

1. **使用二分查找法定位目标值的起始位置**:
   - 修改二分查找，当找到目标值时，继续向左搜索，直到找到第一个目标值。
2. **使用二分查找法定位目标值的结束位置**:
   - 修改二分查找，当找到目标值时，继续向右搜索，直到找到最后一个目标值。
3. **合并两个步骤的结果**，返回目标值的起始和结束位置。

**策略细节**:

- **左侧二分查找**: 在找到目标值后，不是立即返回，而是缩小搜索范围到左侧子数组中继续查找，直到找到最左边的目标值。
- **右侧二分查找**: 类似地，找到目标值后，将搜索范围缩小到右侧子数组中继续查找，直到找到最右边的目标值。
- **优化**: 为了避免重复代码，可以设计一个辅助函数，通过参数控制是查找起始位置还是结束位置。

---