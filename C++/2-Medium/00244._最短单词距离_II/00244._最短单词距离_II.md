[244. 最短单词距离 II](https://leetcode.cn/problems/shortest-word-distance-ii)

[ChatGPT](https://chat.openai.com/share/437d99c6-c502-4271-b556-c1a710cbf13a)

---

## 1. 问题的内容
**1.1 题目描述**：
设计一个类，该类将会被传入一系列单词，并且提供一个方法，该方法接受两个参数word1和word2，并返回列表中这两个单词之间的最短距离。你的方法将被多次调用，以不同的参数调用。

**1.2 示例**：
- 输入: words = ["practice", "makes", "perfect", "coding", "makes"]
- 调用方法: shortest("coding", "practice") 输出: 3
- 调用方法: shortest("makes", "coding") 输出: 1

**1.3 提示**:
- 你可以假设word1不等于word2。
- word1和word2都在列表里。

## 2. 边界情况和约束
1. **单词列表为空**：这种情况下，任何单词的查找都应该返回一个错误或无效值。
2. **单词不在列表中**：如果输入的单词不在列表中，也应返回一个错误或无效值。
3. **单词列表很长，而且包含重复单词**：算法需要能够高效处理大数据量，以及处理重复单词之间的最短距离计算。
4. **调用次数频繁**：由于方法会被多次调用，需要优化重复查找的效率，避免对整个列表的重复遍历。

## 3. 算法和策略
1. **预处理**：在类初始化时，遍历一次单词列表，使用一个哈希表记录每个单词出现的所有位置（索引）。这样，每个单词与其所有出现位置的映射就被存储起来了。
2. **查找最短距离**：当调用最短距离方法时，首先检查word1和word2是否存在于哈希表中。如果存在，就获取这两个单词的索引列表。
3. **双指针法**：使用两个指针分别遍历这两个索引列表。每次移动其中一个指针，选择可以使得两指针指向的索引之差（距离）更小的那个指针移动，直到遍历完一个列表。在遍历过程中记录最小的索引差（即最短距离）。

---
