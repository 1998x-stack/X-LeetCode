[208. 实现 Trie (前缀树)](https://leetcode.cn/problems/implement-trie-prefix-tree)

[ChatGPT](https://chat.openai.com/share/9d5a9f2e-e6da-40e6-ab41-38a04cbaed51)

---

## 1. 问题的内容
**1.1 题目描述**
实现 Trie (前缀树) 的类，它应该支持以下操作：

- `insert`：向前缀树中插入一个字符串。
- `search`：在前缀树中查找一个字符串，如果字符串存在，则返回 `true`；否则，返回 `false`。
- `startsWith`：检查前缀树中是否有以给定前缀开始的任何字符串，如果有，则返回 `true`；否则，返回 `false`。：

**1.2 示例**：
假设我们对 Trie 类执行以下操作：

1. `Trie trie = new Trie();`
2. `trie.insert("apple");`
3. `trie.search("apple");`   // 返回 true
4. `trie.search("app");`     // 返回 false
5. `trie.startsWith("app");` // 返回 true
6. `trie.insert("app");` 
7. `trie.search("app");`     // 返回 true

**1.3 提示**:
- 所有输入字符串都是由小写字母 `a-z` 构成的。
- 所有函数的调用次数总共不会超过 `10^4` 次。

## 2. 边界情况和约束
### 边界情况

1. 插入空字符串。
2. 搜索空字符串。
3. 前缀树为空时进行搜索和前缀检查。
4. 插入重复字符串。
5. 插入和搜索字符串时的字符全为小写英文字母。

### 约束

- 输入字符串长度和前缀树的深度不应超过字符串的最大长度。
- 总调用次数不超过 `10^4`，保证算法在合理时间内完成。


## 3. 算法和策略

### 边界情况

1. 插入空字符串。
2. 搜索空字符串。
3. 前缀树为空时进行搜索和前缀检查。
4. 插入重复字符串。
5. 插入和搜索字符串时的字符全为小写英文字母。

### 约束

- 输入字符串长度和前缀树的深度不应超过字符串的最大长度。
- 总调用次数不超过 `10^4`，保证算法在合理时间内完成。

---

## 任务3：设计算法和策略（极为详细）
### 算法设计

#### 数据结构

- 使用结构体 `TrieNode` 表示前缀树的节点，每个节点包含：
  - 一个布尔值 `isEnd`，标记这个节点是否是某个插入字符串的结束。
  - 一个指针数组 `children`，长度为 26，代表 26 个英文字母，数组的每个元素都是指向下一个 `TrieNode` 的指针。

#### `insert` 操作

1. 从根节点开始。
2. 遍历待插入字符串的每个字符。
   - 计算字符对应的索引（例如，`'a'` 对应 0，`'b'` 对应 1，依此类推）。
   - 检查当前节点的 `children` 数组中对应索引位置是否为空。
     - 如果为空，创建一个新的 `TrieNode` 并将其赋值给该位置。
   - 移动到该 `children` 数组指定索引的节点，继续下一个字符的插入。
3. 字符串遍历完成后，将最后一个节点的 `isEnd` 标记为 `true`。

#### `search` 操作

1. 从根节点开始。
2. 遍历待搜索字符串的每个字符。
   - 计算字符对应的索引。
   - 检查当前节点的 `children` 数组中对应索引位置是否为空。
     - 如果为空，返回 `false`。
   - 移动到该 `children` 数组指定索引的节点，继续下一个字符的搜索。
3. 字符串遍历完成后，检查当前节点的 `isEnd` 是否为 `true`，如果是，则返回 `true`；否则，返回 `false`。

#### `startsWith` 操作

1. 从根节点开始。
2. 遍历给定前缀的每个字符。
   - 计算字符对应的索引。
   - 检查当前节点的 `children` 数组中对应索引位置是否为空。
     - 如果为空，返回 `false`。
   - 移动到该 `children` 数组指定索引的节点，继续下一个字符的检查。
3. 前缀遍历完成后，返回 `true`，因为已经成功遍历了前缀的全部字符。

---
