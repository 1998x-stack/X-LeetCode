[57. 插入区间](https://leetcode.cn/problems/insert-interval)

[ChatGPT](https://chat.openai.com/share/87574875-0220-4af6-b457-0b360b56b94e)

---

## 1. 问题的内容
**1.1 题目描述**：
给定一个无重叠区间的数组，这些区间已经按升序排列。现在要将一个新的区间插入这些区间中（如果有必要，合并区间）。插入后，必须确保区间仍然按升序排列并且不重叠（如果可能，可以合并）。

**1.2 示例**：
输入：区间列表 = [[1,3],[6,9]]，新区间 = [2,5]
输出：[[1,5],[6,9]]

**1.3 提示**:
- 你可以假设区间列表中的区间是闭合的，即形式为 [a, b]，其中 a <= b。
- 区间列表和新区间的元素个数均不超过 10^4。
- 区间列表中的每个区间的长度包含在 [0, 10^4] 内。

## 2. 边界情况和约束
### 边界情况

1. **新区间与现有区间无重叠**：新区间在所有区间的左侧或右侧，直接插入新区间到列表中相应的位置。
2. **新区间与某个现有区间部分重叠**：需要合并这些重叠的区间为一个新区间，然后插入。
3. **新区间完全覆盖一个或多个现有区间**：合并被覆盖的区间为一个区间，替换这些区间。
4. **区间列表为空**：直接将新区间作为结果。

### 约束

- 新区间插入后，区间列表仍需保持升序排列。
- 插入区间后，区间列表中的区间不能有重叠。


## 3. 算法和策略
### 算法设计

1. **初始化**：创建一个空的结果列表。
2. **遍历区间列表**：
   - **如果当前区间的结束位置小于新区间的开始位置**：将当前区间加入结果列表。
   - **如果当前区间的开始位置大于新区间的结束位置**：由于区间列表已排序，此时可以停止遍历，将新区间和剩余区间依次加入结果列表。
   - **重叠区间处理**：如果新区间与当前区间有重叠，合并区间，更新新区间的开始和结束位置为合并后的区间。
3. **处理未添加的新区间**：如果遍历结束后新区间还未被添加到结果列表，将其加入。

### 策略详解

- 通过一次遍历完成新区间的插入和可能的合并操作，保证效率。
- 利用区间已排序的特性，合理判断新区间的位置和合并需求，减少不必要的操作。
- 使用两个指标（新区间的开始和结束位置）动态管理合并操作，确保逻辑清晰。

---