[254. 因子的组合](https://leetcode.cn/problems/factor-combinations)

[ChatGPT](https://chat.openai.com/share/8164ff03-6326-451d-9b2e-478243a57531)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 254题 "因子的组合" 要求我们找出所有可能的因子组合，这些因子在相乘时能够等于给定的整数n。需要注意的是，这里的因子仅包括2到n-1之间的整数。例如，对于整数16，其因子组合可以是[2, 2, 2, 2]、[2, 4]等。不同的组合应该是唯一的，不能包含重复的组合。

**1.2 示例**：
- 输入：n = 16
- 输出：[[2, 2, 2, 2], [2, 4], [4, 4]]

- 输入：n = 1
- 输出：[]

- 输入：n = 37
- 输出：[]

**1.3 提示**:
- 给定的整数n将在1到10000之间。
- 因子的组合应该以递增的顺序排列，每个组合内的元素也应该按递增顺序排列。

## 2. 边界情况和约束
- **边界情况**：
  1. 当n为1时，没有因子组合，应返回空数组。
  2. 当n为质数时，同样没有因子组合，应返回空数组。
  3. 当n非常大时，如接近10000，可能存在多个因子组合，需要高效算法确保性能。

- **约束**：
  1. 因子仅包括2到n-1之间的整数。
  2. 组合内的因子必须按递增顺序排列。
  3. 输出的组合列表也应按某种顺序（如字典序）排列，以避免重复。


## 3. 算法和策略
1. **初始化**：
   - 创建一个空列表`result`来存储最终的因子组合结果。
   - 定义一个辅助函数`backtrack`用于回溯搜索所有可能的因子组合。

2. **回溯函数`backtrack`定义**：
   - 参数包括当前组合`combination`、当前组合的乘积`currentProduct`、上一个因子`lastFactor`和目标数`n`。
   - 如果`currentProduct`等于`n`，则将`combination`的副本添加到`result`中，并返回。
   - 从`lastFactor`开始循环到`n-1`，尝试每一个可能的因子：
     1. 如果当前因子可以被`n`整除，且`currentProduct`乘以这个因子不超过`n`，则：
        - 将因子添加到`combination`中。
        - 调用`backtrack`，传入更新后的参数。
        - 递归返回后，从`combination`中移除这个因子，以尝试下一个可能的因子。

3. **执行回溯搜索**：
   - 从因子2开始，调用`backtrack`函数，初始化`combination`为空列表，`currentProduct`为1，`lastFactor`为2。

4. **返回结果**：
   - 回溯搜索完成后，返回`result`列表。

---
