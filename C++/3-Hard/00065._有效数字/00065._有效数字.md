[65. 有效数字](https://leetcode.cn/problems/valid-number)

[ChatGPT](https://chat.openai.com/share/8db85654-8197-4826-adea-4ca5388a18d0)

---

## 1. 问题的内容
**1.1 题目描述**：
我们需要实现一个功能，用于验证给定的字符串是否可以表示为一个有效的数字（整数或浮点数）。根据题目[65. 有效数字](https://leetcode.cn/problems/valid-number)的描述，有效数字的定义非常具体，包括以下几种情况：

- 可以包含前导空格或尾随空格，但中间不能有空格。
- 可能会以一个加号或减号开头。
- 数字中间可能包含一个点（表示浮点数）。
  - 如果点前后都没有数字，那么这不是一个有效的数字。
  - 如果点前或点后有数字，那么它是一个有效的浮点数。
  - 点不能出现两次。
- 数字中间可能包含一个'e'或'E'（表示指数）。
  - 'e'或'E'前后必须有数字。
  - 'e'或'E'不能出现两次。
  - 'e'或'E'后面可以跟着一个加号或减号。

**1.2 示例**：
- "0" -> true
- " 0.1 " -> true
- "abc" -> false
- "1 a" -> false
- "2e10" -> true
- "-90e3" -> true
- "1e" -> false
- "e3" -> false
- " 6e-1" -> true
- " 99e2.5 " -> false
- "53.5e93" -> true
- " --6 " -> false
- "-+3" -> false
- "95a54e53" -> false

**1.3 提示**:
- 考虑所有可能的字符组合和排列，确保算法能够准确判断各种边界情况。
- 注意处理字符串中的空格、正负号、点号和指数标记。

## 2. 边界情况和约束
1. 字符串前后可能包含空格，但中间不能有空格。
2. 字符串可能以一个加号或减号开头，表示正负数。
3. 浮点数表示中，点号前后至少一侧要有数字。
4. 指数表示中，'e'或'E'前后必须有数字，且后面可以跟一个加号或减号表示指数的正负。
5. 'e'或'E'和点号都不能出现超过一次。
6. 除了数字、加号、减号、点号、'e'或'E'外的任何其他字符都是不允许的。

## 3. 算法和策略
1. **去除空格**：首先，去除字符串前后的空格，中间的空格则直接判定为无效。
2. **标志位记录**：用几个标志位记录是否出现过数字、点、'e'或'E'，以及是否处理过这些标志。
3. **遍历字符串**：
   - 对于每一个字符，根据其类型（数字、正负号、点号、'e'或'E'）进行不同的处理。
   - 如果是数字，更新数字出现的标志位。
   - 如果是点号，检查是否已经有点号或'e'/'E'，如果有，则判定为无效；否则，更新点号出现的标志位。
   - 如果是'e'或'E'，检查是否已经出现过'e'或'E'，或者之前没有出现过数字，则判定为无效；否则，更新'e'或'E'出现的标志位，并重置数字出现的标志位以确保'e'或'E'后面有数字。
   - 如果是正负号，检查其是否在首位或者'e'或'E'的后一位，如果不是，则判定为无效。
4. **最终检查**：在字符串遍历完成后，检查是否至少出现过一次数字，以及最后一个字符是否为有效字符（数字或者符合条件的'e'或'E'后的数字）。

---