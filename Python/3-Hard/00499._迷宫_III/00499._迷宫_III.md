[499. 迷宫 III](https://leetcode.cn/problems/the-maze-iii)

[ChatGPT](https://chat.openai.com/share/86ec5f99-6bf8-49aa-8228-cec5862445b9)

---

## 1. 问题的内容
**1.1 题目描述**：
- **LeetCode 499 迷宫 III** 题目要求在一个二维迷宫中，找到从起点到目的地的最短路径。不同于传统迷宫问题，此题中球可以沿着上下左右四个方向滚动，直到撞到墙才会停下。如果球可以停在目的地，返回到达目的地的最短路径；如果有多条最短路径，返回字典序最小的路径；如果无法停在目的地，返回"impossible"。迷宫的空间用二维数组表示，0 表示空地，1 表示墙壁。起点和目的地由它们的坐标给出。

**1.2 示例**：
- 迷宫的布局通过二维数组给出，起点和终点的坐标分别提供。

```python
maze = [[0, 0, 0, 0, 0], 
        [1, 1, 0, 1, 1], 
        [0, 0, 0, 0, 0], 
        [0, 1, 0, 0, 1], 
        [0, 1, 0, 0, 0]]
ball = [4, 3]
hole = [0, 1]
```
**1.3 提示**:
- 深度优先搜索（DFS）和广度优先搜索（BFS）是解决此问题的常见方法，但考虑到需要找到最短路径，BFS 更适合本问题。
- 使用优先队列（例如，Python 中的 `heapq` 模块）可以帮助按照路径长度和字典序优先级来选择路径。
- 考虑使用字典来存储已访问的位置及其对应的最短路径，以避免重复计算。

## 2. 边界情况和约束
#### 边界情况
- 迷宫大小：迷宫的尺寸可能很小（如1x1），也可能很大。
- 起点或终点是墙：起点或终点坐标上的值如果为1，表示路径不可能。
- 起点即终点：起点和终点坐标相同。
- 无法到达终点：不存在任何路径可以从起点滚动到终点。

#### 约束
- 迷宫的空间由二维数组表示，其中 0 表示可通过，1 表示墙壁。
- 球在遇到墙壁之前会一直沿同一方向滚动。
- 需要找到最短的路径，如果有多个，选择字典序最小的路径。
- 如果无法到达终点，返回"impossible"。


## 3. 算法和策略
#### 设计算法
1. **初始化**：创建一个优先队列来存储待探索的路径，路径按照长度和字典序排列。同时，使用一个字典来存储到达每个点的最短路径信息。
2. **广度优先搜索（BFS）**：从起点开始，探索所有可能的方向（上、下、左、右），直到球无法继续滚动为止。每次滚动，记录路径和滚动的长度。
3. **路径记录**：对于每一个停止点，如果这个点是首次访问，或者找到了一条更短的路径到这个点，更新到这个点的路径信息。
4. **比较字典序**：如果两条路径长度相同，比较字典序，保留字典序较小的路径。
5. **检查终点**：每次到达新的停止点时，检查是否为终点。如果是终点且满足最短路径条件，更新最短路径信息。
6. **继续探索**：直到优先队列为空，表示所有可能的路径都已探索完毕。

#### 策略
- 使用 **BFS** 而非 DFS，因为 BFS 能保证按路径长度递增的顺序探索，首次到达终点的路径即为最短路径。
- **优先队列** 确保按照路径长度和字典序优先处理节点。
- **字典** 存储到达每个点的最短路径信息，避免重复计算和无效探索。

---

