[517. 超级洗衣机](https://leetcode.cn/problems/super-washing-machines)

[ChatGPT](https://chat.openai.com/share/58a3d82f-db5e-45b4-9942-dd9009ad520e)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 517题 "超级洗衣机" 的问题是这样的：假设有n台超级洗衣机放置在一排，每台洗衣机初开始都有一定数量的衣服。只要两台相邻的洗衣机之间的衣服数量不相等，你就可以从衣服较多的洗衣机向衣服较少的洗衣机转移一件衣服。目标是在最少的转移次数后，使得每台洗衣机里的衣服数量都相等。如果无法做到，返回-1。

**1.2 示例**：
- **示例 1**:
  输入: [1,0,5]
  输出: 3
  解释: 
  第一步: [1,1,4] => 第二步: [2,1,3] => 第三步: [2,2,2]

- **示例 2**:
  输入: [0,3,0]
  输出: 2
  解释:
  第一步: [1,2,0] => 第二步: [1,1,1]

**1.3 提示**:
- 数组长度n的范围是 [1, 10000]。
- 每台洗衣机中的衣物数量在整数范围内。

## 2. 边界情况和约束
1. **衣物总数不能整除洗衣机数量**：如果衣物的总数不能被洗衣机的数量整除，那么问题无解，返回-1。
2. **所有洗衣机初开始衣物数量相等**：如果所有洗衣机开始时衣物数量就已经相等，那么最小转移次数为0。
3. **单台洗衣机的衣物数量极端不平衡**：单台洗衣机的衣物数量远大于其他洗衣机，这可能导致需要更多的转移次数。


## 3. 算法和策略
#### 算法设计
1. **计算平均衣物数量**：首先，计算所有洗衣机中衣物的总数，并求出平均值。如果总数不能被洗衣机数量整除，则返回-1。
2. **计算每台洗衣机的目标差值**：对于每台洗衣机，计算其当前衣物数量与平均数量的差值。这个差值表示每台洗衣机需要接受或者输出的衣物数量。
3. **计算最小转移次数**：最小转移次数取决于两个因素：一是任何一台洗衣机的最大输出或输入需求（即差值的绝对值最大值），二是任意两台洗衣机之间的总差值（即连续几台洗衣机的差值累加可能形成的最大流动量）。最终的最小转移次数是这两个因素中的最大值。

#### 策略详解
- **平均衣物数量**：通过总衣物数量除以洗衣机数量得到。
- **目标差值**：对每台洗衣机，计算`当前衣物数量 - 平均衣物数量`。
- **最小转移次数**：
  - 对于每台洗衣机，其差值的绝对值表示该机需要进行的最小转移操作次数。
  - 累加差值：从第一台洗衣机开始，逐个累加每台洗衣机的差值，累加过程中的最大绝对值代表了必须通过转移完成的最大衣物流动量。
  - 最终的最小转移次数是上述两个计算过程中的最大值。



---

