[564. 寻找最近的回文数](https://leetcode.cn/problems/find-the-closest-palindrome)

[ChatGPT](https://chat.openai.com/share/10bf7e89-2683-4145-8cc3-06f78ac68832)

---

## 1. 问题的内容
**1.1 题目描述**：
- **问题内容**：给定一个表示整数的字符串`n`，找到与`n`最近的，但不是`n`自身的回文数。回文数是正着读和反着读都一样的数。返回的回文数也必须是字符串形式的。如果有两个回文数与`n`的距离相同，则返回较小的那个。


**1.2 示例**：
  - 输入：`n = "123"`
  - 输出：`"121"`
  - 解释：与`123`最近的回文数是`121`。

**1.3 提示**:
  - `1 <= n.length <= 18`
  - `n` 只由数字组成
  - `n` 不包含前导零
  - `n` 代表在`[1, 10^18 - 1]`范围内的正整数

## 2. 边界情况和约束
- **边界情况**：
  - `n`正好是回文数，此时需要考虑最接近的非自身回文数。
  - `n`非常小或非常大，接近题目给出的数值范围的极限。
  - `n`的长度为偶数或奇数，这会影响构造回文数的策略。

- **约束**：
  - 输入的`n`是一个字符串表示的数，需要考虑数值转换和处理的效率。
  - 输出也必须是字符串形式的回文数。
  - 需要在有效的时间内找到最近的回文数，考虑到`n`的长度最多为18位，直接枚举是不现实的，需要更高效的算法策略。



## 3. 算法和策略

1. **理解回文数的构造方式**：对于给定长度的`n`，回文数可以通过复制前半部分到后半部分来构造，考虑奇偶长度的差异。

2. **候选回文数的生成**：
   - 将`n`的前半部分复制到后半部分，生成基础的回文数。
   - 考虑生成略大于或略小于`n`的回文数作为候选，可以通过调整中间位或前半部分的最后一位实现。

3. **距离的计算和比较**：
   - 对于每个候选回文数，计算与`n`的绝对距离。
   - 保留距离最小的回文数，如果有多个回文数距离相同，则选择数值较小的。

4. **优化和特殊情况处理**：
   - 特殊值处理，如`n`为`1`或接近最大值时的情况。
   - 优化候选回文数的生成过程，减少不必要的计算。
---