[548. 将数组分割成和相等的子数组](https://leetcode.cn/problems/split-array-with-equal-sum)

[ChatGPT](https://chat.openai.com/share/f02755d7-a8d1-42f1-93e4-aad072f79438)

---

## 1. 问题的内容
**1.1 题目描述**：
题目要求是找出一种方法，将一个给定的整数数组分割成四个部分，这四部分的和都相等，分割点不计入各部分的和中。具体来说，给定一个整数数组 `nums`，是否存在索引 `i, j, k` 使得 `i, j, k` 分别满足 `i+1 < j < k` 的条件，并且子数组 `nums[0:i]`、`nums[i+1:j-1]`、`nums[j:k-1]` 和 `nums[k+1:n-1]`（其中 `n` 是数组的长度）的和都相等。需要返回一个布尔值，表示是否可以找到这样的分割方法。

**1.2 示例**：
假设有一个数组 `nums = [1,2,1,2,1,2,1]`，那么按照题目要求，可以找到 `i=1, j=3, k=5`，使得分割后的四个子数组 `[1]`、`[2]`、`[2]`、`[1]` 的和都等于 `2`。因此，对于这个示例，答案是 `True`。

**1.3 提示**:
- 数组的长度 `n` 范围是 `[6, 2000]`。
- 数组中的每个元素的范围是 `[-10^6, 10^6]`。

## 2. 边界情况和约束
#### 边界情况
- **最小数组长度**：由于需要分割成四个和相等的子数组，所以数组的最小长度为 `6`。
- **元素值范围**：数组中的元素值范围为 `[-10^6, 10^6]`，需要注意处理负数和大数值。
- **无法分割的情况**：如果数组中的元素总和不能被 `4` 整除，那么显然无法分割成四个和相等的部分。

#### 约束
- 分割点不计入各部分的和中。
- 分割后的四个部分的和必须相等。
- 分割点的选择范围受到数组长度的限制。


## 3. 算法和策略
#### 设计算法
1. **前缀和数组**：首先计算数组的前缀和，以便快速计算任意子数组的和。
2. **枚举分割点**：
   - 从左到右枚举第一个分割点 `i`，计算左侧部分的和。
   - 再从右到左枚举第三个分割点 `k`，计算右侧部分的和。
   - 对于每一对 `(i, k)`，使用哈希表记录中间部分可以达到的和的可能性。
3. **验证中间部分**：对于每一对 `(i, k)`，检查是否存在一个分割点 `j`，使得四个部分的和相等。

#### 策略细节
- 使用一个哈希表来存储从第二个分割点到第三个分割点之间的所有可能的和，以及对应的分割点位置。
- 在枚举分割点时，需要确保留出足够的空间给其他部分，即 `i+1 < j < k`。

---