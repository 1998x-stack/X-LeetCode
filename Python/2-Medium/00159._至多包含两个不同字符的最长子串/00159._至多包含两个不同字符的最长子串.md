[159. 至多包含两个不同字符的最长子串](https://leetcode.cn/problems/longest-substring-with-at-most-two-distinct-characters)

[ChatGPT](https://chat.openai.com/share/f974a5c9-a49e-492e-ba5f-a70b67028334)

---

## 1. 问题的内容
**1.1 题目描述**：
- 给定一个字符串 `s`，找出至多包含两个不同字符的最长子串的长度。

**1.2 示例**：
- 输入: `s = "eceba"`
- 输出: `3`
- 解释: 最长子串是 "ece"，长度为 3。

**1.3 提示**:
- 字符串 `s` 的长度在 `[1, 10^5]` 范围内。
- `s` 由英文字母组成。

## 2. 边界情况和约束
**边界情况**:

- 字符串长度为 1，此时直接返回 1。
- 字符串中所有字符相同，直接返回字符串的长度。
- 字符串中有超过两个不同的字符。

**约束**:

- 输入字符串只包含英文字母。

## 3. 算法和策略
**算法设计**:

1. **初始化**:
   - 用一个哈希表（或字典）记录窗口中每个字符出现的次数。
   - 设定两个指针，`left` 和 `right`，分别表示窗口的左右边界。
   - 最长子串的长度 `max_len` 初始为 0。

2. **窗口扩展**:
   - 向右移动 `right` 指针，每次移动后将新字符加入哈希表，并更新该字符的计数。
   - 检查哈希表中不同字符的数量，如果超过 2，进行下一步；如果不超过 2，更新 `max_len`。

3. **窗口收缩**:
   - 当哈希表中不同字符的数量超过 2 时，向右移动 `left` 指针，并从哈希表中减去左侧字符的计数。
   - 如果某字符的计数减到 0，则从哈希表中移除该字符。
   - 重复此步骤，直到哈希表中不同字符的数量不超过 2。

4. **重复步骤 2 和 3**，直到 `right` 指针到达字符串末尾。

5. 返回 `max_len` 作为结果。

**策略**:

- **双指针技术**（滑动窗口）: 有效管理窗口的大小和包含的字符。
- **哈希表**: 跟踪窗口内各个字符的计数。

---