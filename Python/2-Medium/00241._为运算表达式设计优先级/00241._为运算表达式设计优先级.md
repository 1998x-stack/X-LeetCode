[241. 为运算表达式设计优先级](https://leetcode.cn/problems/different-ways-to-add-parentheses)

[ChatGPT](https://chat.openai.com/share/66175d27-0d4d-4b34-8ec9-1cfb6c9b35f9)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode题目241《为运算表达式设计优先级》要求我们在给定的运算表达式中，通过添加括号来改变运算顺序，以此来找出所有可能的运算结果。表达式仅包含数字和运算符 `+`，`-` 以及 `*`。

**1.2 示例**：
输入: `"2-1-1"`
输出: `[0, 2]`
解释: 
- ((2-1)-1) = 0 
- (2-(1-1)) = 2

输入: `"2*3-4*5"`
输出: `[-34, -14, -10, -10, 10]`
解释: 
- (2*(3-(4*5))) = -34
- ((2*3)-(4*5)) = -14
- ((2*(3-4))*5) = -10
- (2*((3-4)*5)) = -10
- (((2*3)-4)*5) = 10

**1.3 提示**:
- 输入的字符串长度在 `1` 到 `20` 之间。
- 保证输入字符串是一个有效的表达式，且仅包含数字 `0-9`，加减乘符号 `+`，`-`，`*` 以及空格。
- 可以假设表达式始终是合法的，并且所有运算的结果都不会导致整数溢出。

## 2. 边界情况和约束
- **边界情况**：
  - 表达式仅包含单个数字，这时应直接返回该数字作为结果。
  - 表达式中没有运算符，同样应直接返回数字。
- **约束条件**：
  - 输入字符串长度限制为 `1` 到 `20`。
  - 输入保证为有效表达式，只包含数字和 `+`，`-`，`*` 运算符。
  - 表达式合法，不会导致整数溢出。

## 3. 算法和策略
1. **基础情况处理**：如果输入字符串是一个纯数字（没有运算符），直接返回该数字作为结果的唯一元素。
2. **递归分治**：
   - 遍历字符串，每当遇到运算符（`+`，`-`，`*`），将表达式分为左右两部分。
   - 递归地对左右两部分调用算法，获取左右两部分可能的所有结果。
   - 对于当前运算符，将左右两部分的结果根据运算符进行组合，生成新的结果列表。
3. **结果合并**：重复上述过程，直到表达式被完全分解，然后将所有可能的结果合并并返回。

---