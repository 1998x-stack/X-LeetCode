[166. 分数到小数](https://leetcode.cn/problems/fraction-to-recurring-decimal)

[ChatGPT](https://chat.openai.com/share/99aeed89-1cff-405a-aad4-b28e092b51fd)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 166题，"分数到小数"，要求将给定的分数转换成小数形式，如果小数部分是循环的，则需要将循环部分用括号括起来。

**1.2 示例**：
- 输入: numerator = 1, denominator = 2，输出: "0.5"
- 输入: numerator = 2, denominator = 1，输出: "2"
- 输入: numerator = 2, denominator = 3，输出: "0.(6)"

**1.3 提示**:
- 分子（numerator）和分母（denominator）都是整数，分母不为0。
- 输出的小数部分不应包含多余的前导零。

## 2. 边界情况和约束
**边界情况**:
- 分子为0时，无论分母为何值，结果都是"0"。
- 分母为1时，结果即为分子的值。
- 分子能够整除分母时，结果为一个整数，无小数部分。
- 负数的处理，需要考虑正负号的问题。如果分子和分母符号不同，结果为负。

**约束**:
- 分子和分母的绝对值可以超过32位整型的范围，需要考虑大数的处理问题。

## 3. 算法和策略
1. **初始化**:
   - 检查分子和分母的符号，确定结果的正负号。
   - 将分子和分母转换成绝对值，避免负数的干扰。
   - 初始化一个空字符串用于存储结果。

2. **整数部分处理**:
   - 计算分子除以分母的商，即为结果的整数部分。
   - 分子更新为除法后的余数，用于计算小数部分。

3. **小数部分处理**:
   - 使用哈希表记录每个余数出现的位置。
   - 每次循环，将余数乘以10，然后除以分母，得到小数的一位。
   - 更新余数。
   - 如果新的余数在哈希表中已存在，说明找到了循环的起点，结束计算。
   - 否则，将新的余数和其对应的位置存入哈希表。

4. **结果组装**:
   - 根据是否有循环小数，将小数部分和整数部分组装起来。
   - 如果有循环小数，需要在循环部分前后添加括号。

---