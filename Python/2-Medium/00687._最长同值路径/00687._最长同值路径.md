[687. 最长同值路径](https://leetcode.cn/problems/longest-univalue-path)

[ChatGPT](https://chat.openai.com/share/dc3ac17e-19a3-42da-b390-ed8f27b325c8)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 687题 - "最长同值路径" 要求在一个二叉树中，找到最长的同值路径。这条路径可以沿着父节点到子节点，或者相反。路径的长度是它经过的节点数减一。

**1.2 示例**：
给定一个二叉树：
  ```
      5
     / \
    4   5
   / \   \
  1   1   5
  ```
  最长的同值路径为从节点5到节点5，经过另一个节点5，路径长度为2。

**1.3 提示**:
  - 节点的数量范围是 [0, 10^4]
  - 节点值的范围是 [-1000, 1000]

## 2. 边界情况和约束
### 边界情况
1. **空树**：如果二叉树为空，同值路径长度应该为0。
2. **所有节点值都相同**：如果二叉树中的所有节点值相同，最长同值路径可能是整棵树的高度。
3. **所有节点值都不同**：如果每个节点的值都不同，最长同值路径为0。

### 约束
- 节点数目的限制意味着算法的时间复杂度最好是O(n)，其中n为节点数。

## 3. 算法和策略
1. **后序遍历**：使用递归进行后序遍历，这样可以从叶子节点开始，逐级向上计算每个节点能提供的最长同值路径。
2. **局部与全局变量**：
   - 局部变量：在递归中计算以当前节点为终点的最长同值路径长度。
   - 全局变量：记录遍历过程中发现的最长同值路径的长度。
3. **计算规则**：
   - 对于每个节点，检查其左右子节点是否与它值相同。
   - 如果左子节点的值与当前节点相同，那么该节点可以为路径贡献长度+1（同理右子节点）。
   - 更新全局变量为当前节点能提供的左右路径长度之和的最大值。

---