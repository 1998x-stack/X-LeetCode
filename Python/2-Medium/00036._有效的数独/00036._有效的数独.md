[36. 有效的数独](https://leetcode.cn/problems/valid-sudoku)

[ChatGPT](https://chat.openai.com/share/5fb934ed-f186-4b57-990a-5413c15b4303)

---

## 1. 问题的内容
**1.1 题目描述**：
题目要求编写一个程序来判断一个 9x9 的数独是否有效。只需要根据以下规则，验证已经填入的数字是否有效即可。数字 1-9 在每一行只能出现一次；数字 1-9 在每一列只能出现一次；数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。（数独部分空格内可能填了数字，部分空格为空。）

**1.2 示例**：
```
5 3 . | . 7 . | . . .
6 . . | 1 9 5 | . . .
. 9 8 | . . . | . 6 .
------|-------|------
8 . . | . 6 . | . . 3
4 . . | 8 . 3 | . . 1
7 . . | . 2 . | . . 6
------|-------|------
. 6 . | . . . | 2 8 .
. . . | 4 1 9 | . . 5
. . . | . 8 . | . 7 9
```

**1.3 提示**:
- 注意数独的边界条件，如行、列的界限和3x3子区域的界限。
- 可以使用哈希表来追踪每行、每列和每个子区域中数字的出现情况，以便快速检查是否违反了数独的规则。

## 2. 边界情况和约束

1. **数独的尺寸**：
   - 数独的大小固定为9x9，这是一个常量，意味着我们在检查行、列和3x3子区域时，迭代的范围是已知且固定的。

2. **数字范围**：
   - 数独中的数字应该在1到9之间。这意味着在验证过程中，我们只关心这个范围内的数字，其他字符（如`.`表示的空白格）可以忽略。

3. **空白格的处理**：
   - 数独中的空白格用`.`表示，我们在检查有效性时可以跳过这些格子。这意味着算法实现需要能够区分数字和空白格。

4. **行、列和子区域的唯一性检查**：
   - 数字1-9在每行、每列和每个3x3的子区域中只能出现一次。这要求我们在实现时，需要有机制来跟踪每行、每列和每个子区域中数字的出现情况。

5. **3x3子区域的界定**：
   - 9x9的数独被划分为9个3x3的子区域，识别每个单元格属于哪个子区域是实现过程中的一个挑战。我们需要一种有效的方法来确定任意单元格所属的子区域。

6. **效率和性能**：
   - 尽管数独的尺寸固定，我们仍然需要考虑算法的效率和性能。特别是在遍历数独以及检查数字唯一性时，应尽量减少不必要的计算和重复检查。

## 3. 算法和策略


1. **数据结构选择**：
   - 使用三种哈希表来追踪每行、每列和每个3x3子区域中数字的出现情况。这可以通过字典或数组实现，其中键或索引表示行、列或子区域的编号，值是另一个哈希集合，用于存储该行、列或子区域中出现的数字。

2. **行和列的检查**：
   - 遍历数独的每一个单元格，对于每个非空白（即不是`.`）的单元格，检查其值在当前行、列是否是首次出现。如果不是，立即返回`False`表示数独无效。

3. **3x3子区域的检查**：
   - 对于数独中的每个单元格，确定它属于哪一个3x3子区域。这可以通过单元格的行和列坐标计算得出，具体方法是`子区域编号 = (行号 // 3) * 3 + 列号 // 3`。然后，同样检查该单元格的值在其对应的子区域是否是首次出现。

4. **数据更新**：
   - 在确认一个单元格的值在其行、列和子区域中都是首次出现后，将该值添加到对应行、列和子区域的哈希集合中，表示该值已在相应的行、列或子区域出现过。

5. **终止条件**：
   - 如果在任何时候发现一个值在其行、列或子区域中已存在，算法立即终止并返回`False`。如果成功遍历完整个数独而没有发现重复，最后返回`True`表示数独有效。


---