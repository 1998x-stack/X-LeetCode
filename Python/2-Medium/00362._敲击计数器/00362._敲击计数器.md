[362. 敲击计数器](https://leetcode.cn/problems/design-hit-counter)

[ChatGPT](https://chat.openai.com/share/bcdda95f-1172-463c-8743-3c12b76c6d85)

---
## 1. 问题的内容
**1.1 题目描述**：
设计一个敲击计数器类，能够记录在过去5分钟(300秒)内发生的敲击(hit)次数。你的类需要支持两个方法：

- `hit(timestamp)`：记录一个敲击，`timestamp` 参数是敲击发生的时间（以秒为单位）。多次敲击可能在同一时间发生。
- `getHits(timestamp)`：返回过去5分钟内发生的敲击次数。

**1.2 示例**：
假设敲击在时间1, 2和3发生，然后在时间300再次发生。`getHits(300)` 应该返回4，而 `getHits(301)` 应该返回3，因为在时间1发生的敲击超出了过去5分钟的范围。

**1.3 提示**:
- 使用合适的数据结构来优化时间和空间复杂度。

## 2. 边界情况和约束
- **输入范围**：时间戳是正整数，理论上没有上限，但在实际场景中可以考虑到特定范围内的优化。
- **特殊情况**：连续多次敲击发生在同一秒内；在5分钟内没有任何敲击发生；查询的时间点在所有敲击发生的时间点之前。

## 3. 算法和策略
1. **数据结构选择**：
   - 使用队列来记录每次敲击的时间戳，因为它们具有先进先出(FIFO)的特性，适合我们处理过去5分钟内的数据。
   - 考虑到可能有多次敲击发生在同一时间戳，可以简化数据结构为一个时间戳列表。

2. **算法逻辑**：
   - **`hit(timestamp)`**：将时间戳添加到队列中。
   - **`getHits(timestamp)`**：移除队列中所有超出5分钟范围的时间戳，然后返回队列的长度。

3. **策略细节**：
   - 为了优化性能，每次调用 `getHits()` 时清理过期的时间戳，而不是每次 `hit()` 时都进行清理。

---