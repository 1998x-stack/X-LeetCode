[254. 因子的组合](https://leetcode.cn/problems/factor-combinations)

[ChatGPT](chat.openai.com)

---

## 1. 问题的内容
**1.1 题目描述**：
- 给定一个正整数 `n`，找出所有的独特组合，这些组合的乘积等于 `n`。
- 这些组合可以被视为整数 `n` 的因子分解。
- 注意，我们不考虑组合的顺序，且需要排除重复的组合。

**1.2 示例**：
假设 `n = 8`，那么其因子组合可以是：

- `[2, 2, 2]`
- `[2, 4]`

这两种组合的乘积均为 `8`，且除了这两种，没有其他组合的乘积为 `8`。

**1.3 提示**:
- 因子意味着除了 `1` 和 `n` 本身以外的所有可能整数。
- 我们需要找到所有这样的因子组合，它们乘积等于 `n`。

## 2. 边界情况和约束
### 边界情况

1. **最小值**：`n` 的最小值为 `2`，因为 `1` 没有除 `1` 和自身之外的因子。
2. **素数**：如果 `n` 是素数，它没有因子组合，因为素数除了 `1` 和自身外，没有其他因子。

### 约束

1. **整数因子**：只考虑整数因子，不包括分数或小数。
2. **独特组合**：相同的因子但顺序不同视为同一组合，需要排除。
3. **排序**：组合内的因子按升序排列。

## 3. 算法和策略
### 算法策略

1. **递归回溯**：使用递归回溯来遍历所有可能的因子组合。
2. **剪枝**：为减少搜索空间，当当前因子乘积已大于 `n` 时停止当前路径的搜索。
3. **排序和去重**：确保搜索过程中，因子按升序添加，以避免重复组合。

### 算法步骤

1. **初始化**：创建一个空列表存储当前组合，一个结果列表存储所有有效组合。
2. **递归函数定义**：接收当前组合、当前乘积、开始搜索的因子。
3. **递归终止条件**：当前乘积等于 `n` 时，将当前组合添加到结果列表。
4. **遍历可能的因子**：从开始搜索的因子到 `n` 的平方根（包含），尝试每个可能的因子。
5. **回溯**：添加当前因子到当前组合，调用递归函数搜索剩余因子，完成后撤销添加操作，以尝试下一个因子。
6. **返回结果**：所有递归完成后，返回结果列表。

---