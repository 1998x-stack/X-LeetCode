[211. 添加与搜索单词 - 数据结构设计](https://leetcode.cn/problems/design-add-and-search-words-data-structure)

[ChatGPT](https://chat.openai.com/share/8686b653-6e2f-469e-b08d-dee6cf308dce)

---

## 1. 问题的内容
**1.1 题目描述**：
- **目标**：设计一个支持以下两种操作的数据结构：
  - `addWord(word)`：添加一个单词到数据结构中。
  - `search(word)`：搜索一个单词在数据结构中是否存在。搜索可以是字面上的字符串，也可以是包含点 '.' 的正则表达式，其中 '.' 可以表示任何一个字母。

**1.2 示例**：
- `addWord("bad")`
- `addWord("dad")`
- `addWord("mad")`
- `search("pad")` -> `False`
- `search("bad")` -> `True`
- `search(".ad")` -> `True`
- `search("b..")` -> `True`

**1.3 提示**:
- **关键点**：
  - 数据结构需要高效地存储和搜索字符串。
  - 搜索功能需要支持正则表达式，特别是使用 '.' 来表示任何字符的功能.

## 2. 边界情况和约束
- **边界情况**：
  - 添加的单词长度为 0。
  - 搜索的单词完全由 '.' 组成。
  - 添加和搜索的单词中包含非字母字符（假设题目限制为只含有小写字母）。

- **约束**：
  - 所有单词都只包含小写字母。
  - 需要高效地实现添加和搜索操作。

## 3. 算法和策略
1. **数据结构选择**：使用字典树（Trie）来实现。字典树可以高效地存储和搜索字符串。

2. **addWord(word)**：
   - 从字典树的根节点开始，对单词中的每一个字母进行遍历。
   - 如果当前字母在子节点中不存在，创建一个新的子节点。
   - 移动到该子节点，继续处理下一个字母。
   - 在单词的最后一个字母的节点中，标记为一个完整单词的结束。

3. **search(word)**：
   - 实现一个递归函数来处理搜索，考虑到 '.' 的存在。
   - 如果当前字符不是 '.'，直接移动到对应的子节点继续搜索。
   - 如果当前字符是 '.'，则需要在所有可能的子节点中进行搜索。
   - 如果到达单词的末尾，检查当前节点是否标记为一个完整单词的结束。

---