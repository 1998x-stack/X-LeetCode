[221. 最大正方形](https://leetcode.cn/problems/maximal-square)

[ChatGPT](https://chat.openai.com/share/22ca31b7-e9f5-489a-a0e7-462d7631f3da)

---

## 1. 问题的内容
**1.1 题目描述**：
LeetCode 221题 “最大正方形” 要求在一个由 '0' 和 '1' 组成的二维二进制矩阵中，找到只包含 '1' 的最大正方形，并返回其面积。

**1.2 示例**：
- **输入**：matrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"],["1","0","0","1","0"]]
- **输出**：4

这个示例展示了一个包含最大的、边长为2的正方形（所有元素均为'1'），其面积为4。

**1.3 提示**:
- 矩阵中的行数和列数范围在 1 到 300 之间。
- 矩阵中的元素仅包含 '0' 和 '1'。

## 2. 边界情况和约束
### 边界情况

- **矩阵大小**：矩阵最小为1x1，最大为300x300。
- **全0矩阵**：没有包含'1'的单元格，最大正方形面积为0。
- **全1矩阵**：所有单元格均为'1'，最大正方形面积取决于矩阵的行数和列数中的较小值。
- **单个'1'**：矩阵中只有一个'1'，最大正方形面积为1。

### 约束

- 输入保证矩阵的尺寸合理，无需额外验证。
- 需处理各种大小的矩阵，并考虑性能优化以处理大矩阵。

## 3. 算法和策略
**动态规划解法**：

1. **初始化**：创建一个与输入矩阵相同大小的矩阵dp，dp[i][j]表示以(i, j)为右下角的最大正方形的边长。
2. **填充dp矩阵**：
   - 如果matrix[i][j]为'0'，则dp[i][j]为0，因为以该点为右下角的正方形不存在。
   - 如果matrix[i][j]为'1'，则dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1。这个公式基于这样一个事实：一个点如果要构成一个更大的正方形，它的左边、上边和左上角的点也必须能构成正方形。
3. **找到最大值**：遍历dp矩阵，找到最大的dp[i][j]值，这代表最大正方形的边长。
4. **计算面积**：最大正方形的面积为最大边长的平方。

**算法性能**：

- 时间复杂度：O(mn)，其中m和n分别是矩阵的行数和列数。
- 空间复杂度：O(mn)，因为需要一个同样大小的矩阵来存储dp值。

---