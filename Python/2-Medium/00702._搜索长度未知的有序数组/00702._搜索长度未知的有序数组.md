[702. 搜索长度未知的有序数组](https://leetcode.cn/problems/search-in-a-sorted-array-of-unknown-size)

[ChatGPT](https://chat.openai.com/share/e522763d-3d2f-473d-91df-398efffdf5ec)

---

## 1. 问题的内容
**1.1 题目描述**：
给定一个按非递减顺序排序的整数数组，数组的长度是未知的，但可以使用一个`ArrayReader`接口来访问。这个接口有一个`get(index)`方法，如果尝试访问数组外的元素，这个方法会返回一个非常大的整数（2147483647）。给定一个整数`target`，你的任务是在数组中找到`target`的索引，如果`target`不存在于数组中，则返回`-1`。

**1.2 示例**：
假设数组为：`[1, 2, 3, 4, 5, 6, ..., ∞]`（后面是未知的），目标数`target = 5`：
- 输出应该是`4`，因为`5`位于数组的第五个位置，索引为`4`。

**1.3 提示**:
1. `ArrayReader.get(index)`返回整数（数组元素或2147483647）。
2. 如果`target`不存在于数组中，返回`-1`。
3. 你不能提前知道数组的大小。

## 2. 边界情况和约束
- **边界情况**:
  1. `target`正好是数组的第一个元素。
  2. `target`正好是当前已知的数组的最后一个元素。
  3. `target`大于所有已知元素，需要不断扩展搜索范围。
  4. `target`小于所有元素，很快就可以确认不在数组中。
  5. 数组可能只有一个元素。
- **约束**:
  1. 访问超出数组长度的索引会返回一个特定的大整数，这可以用来确定边界。

## 3. 算法和策略
由于数组大小未知，我们采用二分查找策略，但首先需要确定搜索的边界。策略可以分为两个阶段：
1. **确定边界**：
   - 从索引`0`开始，不断尝试访问数组的`2^k`（k=1,2,3,...）位置，直到找到一个值不小于`target`或返回2147483647的位置，这个位置就近似作为上界。
2. **二分查找**：
   - 在确定的上界和下界之间执行标准的二分查找。

---

